<!DOCTYPE html>
<html>
<head>
    <title>IPL Sense</title>
    <style>
        body {
            /*  BG1 : https://hindi.sportzwiki.com/wp-content/uploads/2022/03/IPL-2022-1-1536x864.jpg
                BG2 : https://wallpapercave.com/wp/wp2686809.jpg    */
            background-image: url('https://hindi.sportzwiki.com/wp-content/uploads/2022/03/IPL-2022-1-1536x864.jpg');
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-position: center;
        }
        .dropdowns-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }
        .dropdowns-content {
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            border: 2px solid black;
            border-radius: 10px;
            background-image: transparent; /* Replace with your desired background image */
            background-size: cover;
            backdrop-filter: blur(8px); /* Adjust the blur radius as needed */
            z-index: 0;
            /* Additional styling for the box */
            width: fit-content;
            padding: 20px;
            color: white;
        }
    </style>
</head>
<body>
    <div class="dropdowns-container">
        <div class="dropdowns-content">
            <h1 style="color: White; padding: 0px 20px 0px 0px; font-size: 50px;">IPL Sense</h1>
            <br><br>
            <form method="post" action="/process">
                <label for="year" style="color: White">Year :</label>
                <br>
                <select id="year" name="year" onclick="updateMatchOptions()">
                    {% for id in years %}
                    <option value="{{ id }}">{{ id }}</option>
                    {% endfor %}
                </select>
                <br><br>
                <label for="match_id" style="color: White">Match ID :</label>
                <br>
                <select id="match_id" name="match_id">
                    {% for id in match_ids %}
                    <option value="{{ id }}">{{ id }}</option>
                    {% endfor %}
                </select>
                <br><br>
                <input type="submit" value="Submit">
            </form>
        </div>
    </div>
</body>
</html>

<script>
    function updateMatchOptions() {
        var yearDropdown = document.getElementById("year");
        var year = yearDropdown.value;

        fetch('/get_match_ids?year=' + year)
            .then(response => response.json())
            .then(data => {
                var matchIdDropdown = document.getElementById("match_id");
                matchIdDropdown.innerHTML = "";

                data.forEach(matchId => {
                    var option = document.createElement("option");
                    option.text = matchId;
                    option.value = matchId;
                    matchIdDropdown.appendChild(option);
                });
        });
    }
</script>
<!-- <link rel="script" href="/static/script.js">  -->